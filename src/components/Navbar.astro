---
import { Image } from "astro:assets";

interface Props {
  logo: ImageMetadata;
}

const { logo } = Astro.props;
---

<nav
  id="navbar"
  data-scrolled="false"
  class="fixed w-full z-50 transition-all duration-300 py-1.5 md:py-4 bg-transparent shadow-none backdrop-blur-none md:bg-gradient-to-b md:from-black/70 md:to-transparent data-[scrolled=true]:bg-white/90 data-[scrolled=true]:backdrop-blur-md data-[scrolled=true]:shadow-md data-[scrolled=true]:py-1.5 data-[scrolled=true]:md:py-2"
>
  <div class="container mx-auto px-4 md:px-6 py-0 flex justify-between items-center">
    <a href="/" class="flex items-center gap-2">
      <Image
        src={logo}
        alt="Wassis' Outdoor Kitchens"
        class="h-8 md:h-12 w-auto md:drop-shadow-md"
        width={200}
        loading="eager"
      />
    </a>

    <div class="flex items-center gap-4 md:gap-8">
      <div class="hidden md:flex items-center gap-8">
        <a
          href="#vendors"
          class="font-medium transition-colors drop-shadow-md text-white hover:text-[var(--primary)] nav-link"
          >Vendors</a
        >
        <a
          href="#gallery"
          class="font-medium transition-colors drop-shadow-md text-white hover:text-[var(--primary)] nav-link"
          >Gallery</a
        >
      </div>
      <a
        href="#contact"
        class="bg-[var(--primary)] text-white text-sm md:text-base px-3 py-1.5 md:px-6 md:py-2 rounded-full font-semibold hover:bg-[var(--secondary)] transition-colors shadow-lg hover:shadow-xl transform hover:-translate-y-0.5"
      >
        Get a Quote
      </a>
    </div>
  </div>
</nav>

<script>
  const navbar = document.getElementById("navbar");
  const navLinks = document.querySelectorAll(".nav-link");

  function handleScroll() {
    if (!navbar) return;

    if (window.scrollY > 20) {
      navbar.setAttribute("data-scrolled", "true");
      
      navLinks.forEach((link) => {
        link.classList.remove("text-white");
        link.classList.add("text-gray-800");
      });
    } else {
      navbar.setAttribute("data-scrolled", "false");
      
      navLinks.forEach((link) => {
        link.classList.add("text-white");
        link.classList.remove("text-gray-800");
      });
    }
  }

  window.addEventListener("scroll", handleScroll);
  // Initial check
  handleScroll();
</script>
